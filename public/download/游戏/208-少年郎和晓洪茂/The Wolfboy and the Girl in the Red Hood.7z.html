<!DOCTYPE html>
<html lang="zh-CN">
<head><meta charset="UTF-8" /><title>恢复 208-少年郎和晓洪茂\The Wolfboy and the Girl in the Red Hood.7z</title><meta name="referrer" content="no-referrer"></head>
<body>
<h1>下载并恢复文件：208-少年郎和晓洪茂\The Wolfboy and the Girl in the Red Hood.7z</h1>
<button id="startBtn">开始下载合并</button>
<progress id="progress" max="100" value="0" style="width: 100%;"></progress>
<p id="status"></p>

<script>
const urls = ['https://i0.hdslb.com/bfs/openplatform/ce84bf1d0fde44efda24e31035f74d8243e3dbd2.bin', 'https://i0.hdslb.com/bfs/openplatform/cef50d0e4cf2b4f9004daba9e264974c9a21bebf.bin', 'https://i0.hdslb.com/bfs/openplatform/32ca4097f7de88cbc21d188f747154b84ddfb10d.bin', 'https://i0.hdslb.com/bfs/openplatform/769fc90d78980514fb94d147413f95eda13fa1b9.bin', 'https://i0.hdslb.com/bfs/openplatform/533f92a3161bae7477009e8b6e7a790c2642a23d.bin', 'https://i0.hdslb.com/bfs/openplatform/f46a4506ceb6c59f4e9aa61db179360383e7fc1d.bin', 'https://i0.hdslb.com/bfs/openplatform/884f4cb2fbec85491a6d2b94e0be8568618b5334.bin', 'https://i0.hdslb.com/bfs/openplatform/cd588c29ff35508132cfb20daa529f9e47fc3945.bin', 'https://i0.hdslb.com/bfs/openplatform/bb5429c277a58628972de51200f5b9ff8797d272.bin', 'https://i0.hdslb.com/bfs/openplatform/23b08163604da37669275e409b833a7942e129e8.bin', 'https://i0.hdslb.com/bfs/openplatform/26242c0d3683e6cd83a4efe6488c802118f0a595.bin', 'https://i0.hdslb.com/bfs/openplatform/a850a60043e2459abe5a655bf400fa96fbe2b4af.bin', 'https://i0.hdslb.com/bfs/openplatform/14c2aa27e708e84c9a1f62afebe5c566efc7f4d5.bin', 'https://i0.hdslb.com/bfs/openplatform/24575caf4dd84d0e6aea3b77501350aa04b27fd9.bin', 'https://i0.hdslb.com/bfs/openplatform/5e449a7de2ca0ca6ddf898639dc12ebf58f3c528.bin', 'https://i0.hdslb.com/bfs/openplatform/8692492dee7fd8c7f57d0708afa5a443ab5802a3.bin', 'https://i0.hdslb.com/bfs/openplatform/9115c7f813f5a7f0f36fab9ce1d107deb7f14767.bin', 'https://i0.hdslb.com/bfs/openplatform/92ec351302a169b370232f79de1111cdfefbf74f.bin', 'https://i0.hdslb.com/bfs/openplatform/333dbad6ffc5e8c09c73566cade960b88d20c887.bin', 'https://i0.hdslb.com/bfs/openplatform/d24908063e2e8b9968d7b902eaef072d54308850.bin', 'https://i0.hdslb.com/bfs/openplatform/5b750d1154c2b45c55cce496c22ffec0f4dea89b.bin', 'https://i0.hdslb.com/bfs/openplatform/eb673d480403445abf0b5d36198cd7d47bdd96a0.bin', 'https://i0.hdslb.com/bfs/openplatform/5fd0d818473d5ddac983db7a8cb03269f83d9104.bin', 'https://i0.hdslb.com/bfs/openplatform/01f6ed806f49f9d30e114120ac9677cfb7c0ecdc.bin', 'https://i0.hdslb.com/bfs/openplatform/c62cc6bf7a74c09075bbad9496b1c46d1028e6d7.bin', 'https://i0.hdslb.com/bfs/openplatform/4e32acd4ac0ffe38763139f8747d55648601208a.bin', 'https://i0.hdslb.com/bfs/openplatform/755e1e03df07bc413516f70dd740907b5c31a810.bin', 'https://i0.hdslb.com/bfs/openplatform/39780cd1ea900a4d8288ea10d5ba58b618c807e5.bin', 'https://i0.hdslb.com/bfs/openplatform/02c3c523cc6d00fc28cd77a9a0d31e3fc9403ed5.bin', 'https://i0.hdslb.com/bfs/openplatform/02faf962ea2be17994a7b688dd43cd544c4af10b.bin', 'https://i0.hdslb.com/bfs/openplatform/8d80572da306d3a8edd7af974223b26962f55416.bin', 'https://i0.hdslb.com/bfs/openplatform/26d845c700c2fdfe4fdd70727577344938af03b9.bin', 'https://i0.hdslb.com/bfs/openplatform/5ef488694dcfff1d5a51844fe644537c43c8cfe7.bin', 'https://i0.hdslb.com/bfs/openplatform/b95936ffb095d96084622cb798099fcd89c5d3c8.bin', 'https://i0.hdslb.com/bfs/openplatform/0cfed18b72b27dfac990f6a09d99d0ec5499d4bf.bin', 'https://i0.hdslb.com/bfs/openplatform/fbfc6da72468a1a5078e8c2e1362829d4fc91a7a.bin', 'https://i0.hdslb.com/bfs/openplatform/669e8758e17c933116e5e260e8ae46e8c1ebcf81.bin', 'https://i0.hdslb.com/bfs/openplatform/ad9d01837a7c2cdecb81d7c4c003064adf7c6e8d.bin', 'https://i0.hdslb.com/bfs/openplatform/5bc9e10e050ed39134e058593f2b3bcca4ccd7fb.bin', 'https://i0.hdslb.com/bfs/openplatform/e54243265b5b06d5b30e3061e6e11a0f2d9977c3.bin', 'https://i0.hdslb.com/bfs/openplatform/5c4fafb25e7bda08afedf49e4355eb8266139c61.bin', 'https://i0.hdslb.com/bfs/openplatform/da549d9268fd0c00327de06c1e02ef8072dc65ad.bin', 'https://i0.hdslb.com/bfs/openplatform/67366953ffeb515ad1ab4189c91d7c9eb5b99ed5.bin', 'https://i0.hdslb.com/bfs/openplatform/93244a91b11d9ceab5be2af90272ec9f5c6a27fe.bin', 'https://i0.hdslb.com/bfs/openplatform/367f33ce6bd9cc0504c66ce80f6e5353d082b3bf.bin', 'https://i0.hdslb.com/bfs/openplatform/64636dbe7bcaab693f5cb7714b3ca980e636d168.bin', 'https://i0.hdslb.com/bfs/openplatform/80eec27f9a2b023da1d1cc064d99135c9d00b544.bin', 'https://i0.hdslb.com/bfs/openplatform/2f08ac6be899ad96c65a0658618cc86e83dbbfa4.bin', 'https://i0.hdslb.com/bfs/openplatform/d7ba2bc9bba9c6e83fe935c921f19268f4858339.bin', 'https://i0.hdslb.com/bfs/openplatform/03e618fedac8cf64e2ff1a6bb804bdea230c0eea.bin', 'https://i0.hdslb.com/bfs/openplatform/1a7f97544229706d30d72e4ff73bdea9eb060f91.bin', 'https://i0.hdslb.com/bfs/openplatform/3119010545131d4c3f6a3cdff87015a21fd951d6.bin', 'https://i0.hdslb.com/bfs/openplatform/c7ed85209a7c4547d065ce5aa23522e9cb4ca5ab.bin', 'https://i0.hdslb.com/bfs/openplatform/e08a9901258d0680c54764a10c4926ace459a5f8.bin', 'https://i0.hdslb.com/bfs/openplatform/a5e90d21c17a88b6e8aa9c0750474f9bb02570f0.bin', 'https://i0.hdslb.com/bfs/openplatform/ae064bb460a7327f0dfc61d04fb03a6dba301b96.bin', 'https://i0.hdslb.com/bfs/openplatform/e549e5e4c3cb937b0536d063a83ed6d330a1f83b.bin', 'https://i0.hdslb.com/bfs/openplatform/ccad9266fb6f871a4870a69e060e4ab7a4eac863.bin', 'https://i0.hdslb.com/bfs/openplatform/a070c16b40dac855b554ec378f22b1922eebc87b.bin', 'https://i0.hdslb.com/bfs/openplatform/516aaeb1cf22b6880181c2f84923c85daac2db7c.bin', 'https://i0.hdslb.com/bfs/openplatform/9ce23c4c686ae7a04841643c31d46bf1a6b76c16.bin', 'https://i0.hdslb.com/bfs/openplatform/5e00a599beeb98f9f532a4af9280870e81739109.bin', 'https://i0.hdslb.com/bfs/openplatform/a9ea37f3f5d8e149a1d613af4d3c37c77eb266bb.bin', 'https://i0.hdslb.com/bfs/openplatform/30adbcae8a587db0ea839ae06b0825920f7fe340.bin', 'https://i0.hdslb.com/bfs/openplatform/91e418b15754f5482aa6586703541856868d4fe3.bin', 'https://i0.hdslb.com/bfs/openplatform/76d8c9966145f1b91faa6f52471cb0af9a18bfca.bin', 'https://i0.hdslb.com/bfs/openplatform/bacfa8eeec59f577f98688fe219eea1f4793732d.bin', 'https://i0.hdslb.com/bfs/openplatform/4a734a3073c01dbc7a4ab798059b31283830e2bf.bin', 'https://i0.hdslb.com/bfs/openplatform/caf08905686f19739b84348833f550ae8122377f.bin', 'https://i0.hdslb.com/bfs/openplatform/a269c968f4768244b97078587467434ada369f20.bin', 'https://i0.hdslb.com/bfs/openplatform/8656dbbed0b00bcfaa2bd917885a0d6be1eedc01.bin', 'https://i0.hdslb.com/bfs/openplatform/3f594f74f8e30ff8fe32ba9c239f83d21d273f5b.bin', 'https://i0.hdslb.com/bfs/openplatform/8b97a30a1ad07e56b9720e2466470f03a8a393a6.bin', 'https://i0.hdslb.com/bfs/openplatform/99626436895cf11899649989963287ae5c580a5f.bin', 'https://i0.hdslb.com/bfs/openplatform/0e6250a3223b2d0d8a9936c3df2ecd3274ba124d.bin', 'https://i0.hdslb.com/bfs/openplatform/67a1c6c3b28ac1606cc613c4203c3fa50217d4c0.bin', 'https://i0.hdslb.com/bfs/openplatform/eb8c5be5b8e70a9c37f8aec767415be0c792e2a7.bin', 'https://i0.hdslb.com/bfs/openplatform/df02c9f57df3f8276ea16b84db761bdffcbf188a.bin', 'https://i0.hdslb.com/bfs/openplatform/0ae99910dc3b5714cb7d8e307a136bb2aea62a28.bin', 'https://i0.hdslb.com/bfs/openplatform/836b69d54faa19fd41028bf5e2bbc3571bf2549e.bin', 'https://i0.hdslb.com/bfs/openplatform/496bad7c670593ac33a739f56710c2bde330aa40.bin', 'https://i0.hdslb.com/bfs/openplatform/6559ff2b56d65fadaf3e4dc4944d888970bdb873.bin', 'https://i0.hdslb.com/bfs/openplatform/045fd419de534efadfee3845739fd5a14d342031.bin', 'https://i0.hdslb.com/bfs/openplatform/075d3f13f5e227b66010953510bfbe4141f95351.bin', 'https://i0.hdslb.com/bfs/openplatform/4270798a56c9dd3161ec1ecad9adefdae8aba6a1.bin', 'https://i0.hdslb.com/bfs/openplatform/6db2298010954b33c5ee64b3b81df8b41ad9ec48.bin', 'https://i0.hdslb.com/bfs/openplatform/fb77d79816a2a1db1f45b6cc850c29c0ae10dba1.bin', 'https://i0.hdslb.com/bfs/openplatform/36ee3032b618a535feb4b82b4f0adfef08593d51.bin', 'https://i0.hdslb.com/bfs/openplatform/ba8a3ffd8b3154115a235ff33cd01a441d5c6624.bin', 'https://i0.hdslb.com/bfs/openplatform/a1ff9f610ce125e1fba452d83349208ea186c281.bin', 'https://i0.hdslb.com/bfs/openplatform/2ace7a855289dcd991a0bbd58056bfc126acac6b.bin', 'https://i0.hdslb.com/bfs/openplatform/1f1bd362b5e8109510c15dd851768e883c123a69.bin', 'https://i0.hdslb.com/bfs/openplatform/06562ebbc609c0af2991598b01984e381afe9f9f.bin', 'https://i0.hdslb.com/bfs/openplatform/89f8021e9417df3fa0012a417f657a0e4a57f110.bin', 'https://i0.hdslb.com/bfs/openplatform/d1ca28bd21bed125f6994d4ea4bdea5bc2b827f2.bin', 'https://i0.hdslb.com/bfs/openplatform/21d6354d92b264cb0470f2330ac8c5923f4f09c0.bin', 'https://i0.hdslb.com/bfs/openplatform/c27b98766ba2ea8c5870353024940fc3ff567fc7.bin', 'https://i0.hdslb.com/bfs/openplatform/deefeb4dc4e5606c59f48f2c99589b2ed9fcd44e.bin', 'https://i0.hdslb.com/bfs/openplatform/43b54278cea82b2349869febfb966244efb93fd6.bin', 'https://i0.hdslb.com/bfs/openplatform/c1bd4405f3cc1345150a16ae6c20fcb03b4948a4.bin', 'https://i0.hdslb.com/bfs/openplatform/f5c688991ba220147abb2c814934ce3237d0c0a8.bin', 'https://i0.hdslb.com/bfs/openplatform/09c4ab4392a1720a10c89064e5d166ce60ab0051.bin', 'https://i0.hdslb.com/bfs/openplatform/914d0cbec5768e53cc97d0e7b01d0a2f239fc26a.bin', 'https://i0.hdslb.com/bfs/openplatform/d7288f8f5fea280bcbd6457c4f6d8e41a0c6f4df.bin', 'https://i0.hdslb.com/bfs/openplatform/edb6bd02887e93b6f0d8f10a6b9d6a8fd0c09482.bin', 'https://i0.hdslb.com/bfs/openplatform/5b45d53778c5429a13b2a32cff61885fa9c940da.bin', 'https://i0.hdslb.com/bfs/openplatform/5f280269b0972d3408a701b46dd8d81112742124.bin', 'https://i0.hdslb.com/bfs/openplatform/761a9102a37333add41a9ec785911261d2b2f409.bin', 'https://i0.hdslb.com/bfs/openplatform/eca6e5dbc8d2dd9c1e4667ed284012e834c04990.bin', 'https://i0.hdslb.com/bfs/openplatform/9be865598a35ff43451129e23bb27bbf54da33e7.bin', 'https://i0.hdslb.com/bfs/openplatform/6952903e74214c2a3af2ae296456faf390aad95d.bin', 'https://i0.hdslb.com/bfs/openplatform/75e98d8045aedea50a76f978300bbb62010d1967.bin', 'https://i0.hdslb.com/bfs/openplatform/c4bddccdb0a9a203d27a2eb516ce5b82809e0048.bin', 'https://i0.hdslb.com/bfs/openplatform/08df3d6959f8ef473e010971344f12ceb122b0e8.bin', 'https://i0.hdslb.com/bfs/openplatform/458423350c90986211cfcc5b419f9fce648b1158.bin', 'https://i0.hdslb.com/bfs/openplatform/fe401d3f19011957904407fc0641e1ebb64d83cf.bin', 'https://i0.hdslb.com/bfs/openplatform/a2d7c6a06e7af3a6ba9d5a1720cb1af7cc26a422.bin', 'https://i0.hdslb.com/bfs/openplatform/8879ddea5f0d1af188a759b64f150249600c84ea.bin', 'https://i0.hdslb.com/bfs/openplatform/f113c6d4c4ba06ffa55b5d47edf98fbbf26d4ee0.bin', 'https://i0.hdslb.com/bfs/openplatform/bcc2659c37a4d6cb00b7ecd13d0b31db96884c76.bin', 'https://i0.hdslb.com/bfs/openplatform/88a5b9cdec8788678319e622c5938f1220a42a69.bin', 'https://i0.hdslb.com/bfs/openplatform/e01f70355d4e62e75d7595ec71060446b8f5a763.bin', 'https://i0.hdslb.com/bfs/openplatform/ee83c7702c0228c9dd32befb75cebd538c6b723f.bin', 'https://i0.hdslb.com/bfs/openplatform/0187d583fd7624a3fbee812666c98e5700b3d8d1.bin', 'https://i0.hdslb.com/bfs/openplatform/179fedb71767a3516b71281ebfeedea299bb2c93.bin', 'https://i0.hdslb.com/bfs/openplatform/d0145890a90cff5cede905e323c258959376bb72.bin', 'https://i0.hdslb.com/bfs/openplatform/bb477b0685e26c4a8353a7cd28ba6e0479458429.bin', 'https://i0.hdslb.com/bfs/openplatform/bed2f50863b9bf5be71fba2a2cd746bc86699d59.bin', 'https://i0.hdslb.com/bfs/openplatform/04e0038ced50125b66c007cfd11833ae3c38115a.bin', 'https://i0.hdslb.com/bfs/openplatform/d30dedeb9841b216a849c9ae51ac39f3ff305731.bin', 'https://i0.hdslb.com/bfs/openplatform/9171ba7ed8e0227fb29f55af18e630ae9751bdba.bin', 'https://i0.hdslb.com/bfs/openplatform/f8b1bae08828e36d717e6a304f18a256a315e6ed.bin', 'https://i0.hdslb.com/bfs/openplatform/f8adfbcbcbd3825e8d8327d5e2fcd4e1706dd7ff.bin', 'https://i0.hdslb.com/bfs/openplatform/51793fadb04f1adc2ce3d625ef64c9caf1476220.bin', 'https://i0.hdslb.com/bfs/openplatform/081fbf7fdd69420a37d18ff45c562676646cb9ef.bin', 'https://i0.hdslb.com/bfs/openplatform/39a767d49d21ab21ac2b9da8ee9f39278b3acb80.bin', 'https://i0.hdslb.com/bfs/openplatform/c178abba4843f4d37961647571d8a76d471d13c5.bin', 'https://i0.hdslb.com/bfs/openplatform/09dc816c9cc144276a97a985d896f855a692c284.bin', 'https://i0.hdslb.com/bfs/openplatform/a9ceb8a4facdb4b1752bad9501d33e1907b4d3ca.bin', 'https://i0.hdslb.com/bfs/openplatform/6c26f759d255b5bd39e56fcbb3a6e81138f4adba.bin', 'https://i0.hdslb.com/bfs/openplatform/8aeae5c698c6e5dfffc390aa9ee1716cdbc397f0.bin', 'https://i0.hdslb.com/bfs/openplatform/5d6a0a2c41f94566469329fa0118b964ad04e0b8.bin', 'https://i0.hdslb.com/bfs/openplatform/b5b7556755af63ac9397e6c6931e95db4c5f9599.bin', 'https://i0.hdslb.com/bfs/openplatform/065f562780fe0cef987e39957b9aa8158a02519c.bin', 'https://i0.hdslb.com/bfs/openplatform/0c0da4227e797b11808144b2c994843fa7432b63.bin', 'https://i0.hdslb.com/bfs/openplatform/df9f66612b93af1d4af820181290caaacfd7bd33.bin', 'https://i0.hdslb.com/bfs/openplatform/03be832c0df57dc2a23bdf91cbddbd0bb017fbcb.bin', 'https://i0.hdslb.com/bfs/openplatform/95f754090c4f224ae597f9842d6e9ebfd5bf5890.bin', 'https://i0.hdslb.com/bfs/openplatform/0b15927a992943dd2ce3d9d1ac09e4427555dff3.bin', 'https://i0.hdslb.com/bfs/openplatform/353b0a0992d5b7eddc85b8feb628142983ae506e.bin', 'https://i0.hdslb.com/bfs/openplatform/3d728d86c12987dab7c7a312e4995b5d6b85926c.bin', 'https://i0.hdslb.com/bfs/openplatform/1eac330df70433d4d5dd3206be39f0a204375ba4.bin', 'https://i0.hdslb.com/bfs/openplatform/80ad82d7ef7122e7aad656372a9222e9e6006aec.bin', 'https://i0.hdslb.com/bfs/openplatform/c1f96cba4d76daa8301f562077dc8fc82e0420cc.bin', 'https://i0.hdslb.com/bfs/openplatform/b3ad25bbe088187e999218479c3dfc94afa94b0e.bin', 'https://i0.hdslb.com/bfs/openplatform/df230ca517fb94baf521870315bfda4e72ea3931.bin', 'https://i0.hdslb.com/bfs/openplatform/4de609a993b4f5a46f09cf469ace9ae6d73b4a7f.bin', 'https://i0.hdslb.com/bfs/openplatform/6a7e9d7c91c6c3e302a9bcd57e4e89f7ec9cb8c3.bin', 'https://i0.hdslb.com/bfs/openplatform/06e136690343d912180af82566fb94c8fc0272a8.bin', 'https://i0.hdslb.com/bfs/openplatform/d9c07576050e62040a0f0631dddb336333ec6124.bin', 'https://i0.hdslb.com/bfs/openplatform/79fe5bde5a109592a0a7430a8fb97302a6254d0d.bin', 'https://i0.hdslb.com/bfs/openplatform/60db6d89ee3f0ff85fdd1e8d19658b46295c49fe.bin', 'https://i0.hdslb.com/bfs/openplatform/27a3beb1a1138bb265ae8eb06d0537f6e8bbaf69.bin', 'https://i0.hdslb.com/bfs/openplatform/33cb8d012fcaf5e0811c9129803817e5675bfd7f.bin', 'https://i0.hdslb.com/bfs/openplatform/12bf70471ca97e4ad7f618073af44a899385201d.bin', 'https://i0.hdslb.com/bfs/openplatform/f3d918cc9d6a0093bc044e589d93dbf0cb91ddbe.bin', 'https://i0.hdslb.com/bfs/openplatform/27a8b3d69355d0371941fb9a2d5898d3f61a8b54.bin', 'https://i0.hdslb.com/bfs/openplatform/e9898fbc0ad79440121671e44dfc3e688103ed9b.bin', 'https://i0.hdslb.com/bfs/openplatform/82b0a66e1d612575ec0c8aaed482d3298ead1b5d.bin', 'https://i0.hdslb.com/bfs/openplatform/abe6fc973c52882bbd8f415d373193f5894ef0cc.bin', 'https://i0.hdslb.com/bfs/openplatform/403fe3824d1a27593ac7457a376b1c299715135e.bin', 'https://i0.hdslb.com/bfs/openplatform/586160b80c8e9265392cb9f5a6acfc97959dc959.bin', 'https://i0.hdslb.com/bfs/openplatform/40ae021810dc0c1c7019fba95b9d78ddc781a7b0.bin', 'https://i0.hdslb.com/bfs/openplatform/32a53302d1da439371c7ed720f339c818b772ff6.bin', 'https://i0.hdslb.com/bfs/openplatform/f773ea182cb9284f8ecc4d95b12a59308e494833.bin', 'https://i0.hdslb.com/bfs/openplatform/07f09859bf7432c56e02a28804d431757227b8c1.bin', 'https://i0.hdslb.com/bfs/openplatform/0c083ce9dfc8f7416a985e68e0a6866e57eedbbd.bin', 'https://i0.hdslb.com/bfs/openplatform/1bfe082d9166e0e870b4c585b00ec8f806efcecb.bin', 'https://i0.hdslb.com/bfs/openplatform/cbc01b04738e97f175ea953be577c02442ed8667.bin', 'https://i0.hdslb.com/bfs/openplatform/f46dc05506b5e7d70c29c96de51e35f0a80c5204.bin'];
const maskKey = 0xAA;

async function downloadAndMerge() {
  if (!window.showSaveFilePicker) {
    alert("当前浏览器不支持 File System Access API，请使用 Chrome 或 Edge 的最新版本。");
    return;
  }

  const fileHandle = await window.showSaveFilePicker({
    suggestedName: '208-少年郎和晓洪茂\The Wolfboy and the Girl in the Red Hood.7z',
    types: [{
      description: '208-少年郎和晓洪茂\The Wolfboy and the Girl in the Red Hood.7z 文件',
      accept: {'*/*': ['.7z']}
    }]
  });
  const writable = await fileHandle.createWritable();

  const progressElem = document.getElementById('progress');
  const statusElem = document.getElementById('status');

  let totalBytes = 0;
  let downloadedBytes = 0;

  for (const url of urls) {
    const headResp = await fetch(url, { method: 'HEAD' });
    if (!headResp.ok) {
      statusElem.textContent = `无法获取分片大小: ${url}`;
      return;
    }
    totalBytes += parseInt(headResp.headers.get('Content-Length') || '0');
  }
  progressElem.max = totalBytes;

  try {
    for (let i = 0; i < urls.length; i++) {
      const url = urls[i];
      const resp = await fetch(url);
      if (!resp.ok) throw new Error(`下载失败: ${url}`);

      const reader = resp.body.getReader();
      let done = false;

      while (!done) {
        const {value, done: doneReading} = await reader.read();
        if (value) {
          let chunk = value;
          if (i === 0) {
            chunk = new Uint8Array(chunk);
            for (let j = 0; j < chunk.length; j++) {
              chunk[j] ^= maskKey;
            }
          }
          await writable.write(chunk);
          downloadedBytes += chunk.length;
          progressElem.value = downloadedBytes;
          statusElem.textContent = `已下载 ${downloadedBytes} / ${totalBytes} 字节 (${((downloadedBytes/totalBytes)*100).toFixed(2)}%)`;
        }
        done = doneReading;
      }
    }
    await writable.close();
    statusElem.textContent = "下载并合并完成！文件已保存。";
  } catch (e) {
    statusElem.textContent = "错误：" + e.message;
    await writable.close();
  }
}

document.getElementById('startBtn').addEventListener('click', downloadAndMerge);
</script>
</body>
</html>
