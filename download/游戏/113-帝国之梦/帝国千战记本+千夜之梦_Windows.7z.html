<!DOCTYPE html>
<html lang="zh-CN">
<head><meta charset="UTF-8" /><title>恢复 113-帝国之梦\帝国千战记本+千夜之梦_Windows.7z</title><meta name="referrer" content="no-referrer"></head>
<body>
<h1>下载并恢复文件：113-帝国之梦\帝国千战记本+千夜之梦_Windows.7z</h1>
<button id="startBtn">开始下载合并</button>
<progress id="progress" max="100" value="0" style="width: 100%;"></progress>
<p id="status"></p>

<script>
const urls = ['https://i0.hdslb.com/bfs/openplatform/4ab699b6bf6ec381eaa21b43c5eda877892e2f6a.bin', 'https://i0.hdslb.com/bfs/openplatform/5fca961aa55373bdd204b055478f0145a2d3a64d.bin', 'https://i0.hdslb.com/bfs/openplatform/67d9bac3058b8e1787fad50aafeff27d7a95c909.bin', 'https://i0.hdslb.com/bfs/openplatform/41883b9111d55cacb0af13ece470a11974da315f.bin', 'https://i0.hdslb.com/bfs/openplatform/a957f4c4e76dec38191a092763c0b296e62fdc50.bin', 'https://i0.hdslb.com/bfs/openplatform/a5be287e7ea76d14d297d8116d3d0c7855c0ad27.bin', 'https://i0.hdslb.com/bfs/openplatform/32e1347f1de07048bc66fa61a7fdf3bd1b06c130.bin', 'https://i0.hdslb.com/bfs/openplatform/ef58b59ffea55761205ba1a8507502db215fe8b1.bin', 'https://i0.hdslb.com/bfs/openplatform/f0c1cc80b0a312fdeaae22245cc162afc8294e32.bin', 'https://i0.hdslb.com/bfs/openplatform/de4f23cc9370b24b9b04c28d9a3b0c31f95b56f3.bin', 'https://i0.hdslb.com/bfs/openplatform/bd6f55f8f344d830fbe1943182c6c4172c036154.bin', 'https://i0.hdslb.com/bfs/openplatform/ce3584e9f5f69a649898ec1169724e883b791ca2.bin', 'https://i0.hdslb.com/bfs/openplatform/269fa8bf0e5a5f6ccab5433c12cdabe8fb2e66bf.bin', 'https://i0.hdslb.com/bfs/openplatform/02988833229316e52a280de9cb1949642541eddc.bin', 'https://i0.hdslb.com/bfs/openplatform/b8d8df6d8395e89cebce3bb7cf68fba903c54c78.bin', 'https://i0.hdslb.com/bfs/openplatform/a563ea2f337354d36ce4786cb51afa7d11445473.bin', 'https://i0.hdslb.com/bfs/openplatform/754eaf43370a28f4f8456bd2a29eba6f25d58e65.bin', 'https://i0.hdslb.com/bfs/openplatform/d4092837c36a1d370d060ad8e61c39d9ba8294b2.bin', 'https://i0.hdslb.com/bfs/openplatform/11ff89a5804aa75ff33ef00a05dcb762dc80ac5a.bin', 'https://i0.hdslb.com/bfs/openplatform/7bed79830d08b87388b7bf08c2c7fab63d215cd3.bin', 'https://i0.hdslb.com/bfs/openplatform/92f9b1d7b742affc1df7bb6686640ef65f4c84cd.bin', 'https://i0.hdslb.com/bfs/openplatform/72be616b765395f4468d3cae364c9b225f29b3f0.bin', 'https://i0.hdslb.com/bfs/openplatform/1f7c90df051a05e83fc8003b73ff221c495500dc.bin', 'https://i0.hdslb.com/bfs/openplatform/10ff139bde5c4011b138f9832431e6c9d06d37ad.bin', 'https://i0.hdslb.com/bfs/openplatform/834f5cee285cbbe965e217dad708fcbe0504656d.bin', 'https://i0.hdslb.com/bfs/openplatform/7f419a8f908680d6ff387d0314b3e53358d35413.bin', 'https://i0.hdslb.com/bfs/openplatform/77929236584004665f187620753aa187cbdff9b4.bin', 'https://i0.hdslb.com/bfs/openplatform/ecdeb3b3bf64a9b2de2e359496c6690e761edf89.bin', 'https://i0.hdslb.com/bfs/openplatform/77c142a0006568629a96b495d8bf77431a33ecc5.bin', 'https://i0.hdslb.com/bfs/openplatform/28fcace68186c55eb257e545896307d82a5880d8.bin', 'https://i0.hdslb.com/bfs/openplatform/29015671495c18ce62dcd9efb3cbcd245f007dba.bin', 'https://i0.hdslb.com/bfs/openplatform/e46da659a657c1f8947a436257f1e2fee6255079.bin', 'https://i0.hdslb.com/bfs/openplatform/7fcdcf615dcb540da05531f0d93976f4d41e3e50.bin', 'https://i0.hdslb.com/bfs/openplatform/57d57d54f79fb6264d48ad19afc1301a4ae1fa53.bin', 'https://i0.hdslb.com/bfs/openplatform/0039d300ca43a85b8884b86bbc7450387d88c305.bin', 'https://i0.hdslb.com/bfs/openplatform/6cf8c64aa253c40ba69f22b5a1ad9b63615befc0.bin', 'https://i0.hdslb.com/bfs/openplatform/766442c74ae89548d3b27175f42098680070f4cb.bin', 'https://i0.hdslb.com/bfs/openplatform/f6e44bdaa1a52d0a5fe50ace2b872579184a0f1f.bin', 'https://i0.hdslb.com/bfs/openplatform/289131cc2006f41833acf121a3fa331f8681651d.bin', 'https://i0.hdslb.com/bfs/openplatform/002868d77676c7f4ff3410386f3e7a276d960e02.bin', 'https://i0.hdslb.com/bfs/openplatform/ac4606a421e50b1974153ccd6c060918f103f03e.bin', 'https://i0.hdslb.com/bfs/openplatform/d8ff5485667179d2cd5ea47ab616cfd8c538bd1d.bin', 'https://i0.hdslb.com/bfs/openplatform/415350798df46f458c81a924e905679bf392c7e3.bin', 'https://i0.hdslb.com/bfs/openplatform/7b8a974554709d5709584555fa4af9ca1b331622.bin', 'https://i0.hdslb.com/bfs/openplatform/bba3785a24d58bc41085279f4a0f7d847bd21ef5.bin', 'https://i0.hdslb.com/bfs/openplatform/422426f8b8ceea8ec94f19c6a546ead6aea58ed1.bin', 'https://i0.hdslb.com/bfs/openplatform/1d876aa21cf546757e2c30a903854583e30294a5.bin', 'https://i0.hdslb.com/bfs/openplatform/83a400ce4116b99b15eb8b2d88b06ce7ea59219c.bin', 'https://i0.hdslb.com/bfs/openplatform/810e22cbad25f25913a9765f3421edcea57cb254.bin', 'https://i0.hdslb.com/bfs/openplatform/e9a6e59217782ea72cda8109e82d8b23f3272aee.bin', 'https://i0.hdslb.com/bfs/openplatform/197785eee4d41f3cd82ad71a06a8e085f73d5e2b.bin', 'https://i0.hdslb.com/bfs/openplatform/29350780b7a1655e480fff815f85afb793e0d2b1.bin', 'https://i0.hdslb.com/bfs/openplatform/e1f09a214e449f0d2912d6cd19f8ba740e5099d2.bin', 'https://i0.hdslb.com/bfs/openplatform/7d8c934583984ff18e93345088dc73890bc607e0.bin', 'https://i0.hdslb.com/bfs/openplatform/4706ca6fae8832f5ac836dbd2868d5c3e5467746.bin', 'https://i0.hdslb.com/bfs/openplatform/50fbba4a97b58b3ffea6957ffd8f4b11aef9d199.bin', 'https://i0.hdslb.com/bfs/openplatform/39e2a69a447d9c28ae94ba2b06a599c41607c63c.bin', 'https://i0.hdslb.com/bfs/openplatform/3695ed3c61bf4589642c8753c4114e39123b5520.bin', 'https://i0.hdslb.com/bfs/openplatform/8b9d91cb9a8b5d5cc8fcc1438d3959237053120c.bin', 'https://i0.hdslb.com/bfs/openplatform/d1c1d224ed63d76fe334144d6e22990d3d1cc3dc.bin', 'https://i0.hdslb.com/bfs/openplatform/44228caf3dcc0466765e1c373b3f425838dc5cf5.bin', 'https://i0.hdslb.com/bfs/openplatform/a61526416491daf767db27f021612b9f3d47ee4c.bin', 'https://i0.hdslb.com/bfs/openplatform/2aff4b8de674a11e7a4ba097f6e2313a313b9389.bin', 'https://i0.hdslb.com/bfs/openplatform/fb8d6d28e2517408f9b9d4c99e43f2803f8bc670.bin', 'https://i0.hdslb.com/bfs/openplatform/6263018a6cc2731173e15c8b9d3e4e3c1450dd62.bin', 'https://i0.hdslb.com/bfs/openplatform/d984d5331f7709561b4d1937ada194704d1eb2cb.bin', 'https://i0.hdslb.com/bfs/openplatform/f83e2f8ffa92531f9edab8c1041146df11803d2d.bin', 'https://i0.hdslb.com/bfs/openplatform/7888bd964edf5b380f02caa62930d041b67375e7.bin', 'https://i0.hdslb.com/bfs/openplatform/f579b1d4b9fd43d3eebef26360cff411aa576366.bin', 'https://i0.hdslb.com/bfs/openplatform/33d5e5eebda06a8c7659112ca584d10cc53b8778.bin', 'https://i0.hdslb.com/bfs/openplatform/585ae861fef8d9b14101cf3b9764dcaf1162199f.bin', 'https://i0.hdslb.com/bfs/openplatform/79a45201f0d795c327cf02047ebf0db2ec5485fb.bin', 'https://i0.hdslb.com/bfs/openplatform/178378a95f6002acabf137248f19e6fa30ed332b.bin', 'https://i0.hdslb.com/bfs/openplatform/66e976b6804a1fde96d5373a824c188247649f26.bin', 'https://i0.hdslb.com/bfs/openplatform/513c5f1193212ba4192d8705aa74a4cc64070fee.bin', 'https://i0.hdslb.com/bfs/openplatform/c3142ec75aabaed03bc0f93c8b6b3f3f39430a92.bin', 'https://i0.hdslb.com/bfs/openplatform/dfcafe6e47f8accf963374b21577b5c7e2b42322.bin', 'https://i0.hdslb.com/bfs/openplatform/f55d5d75e84f3a56103cf8bd920c93802672e682.bin', 'https://i0.hdslb.com/bfs/openplatform/ab98c1746071cd7e39a583d2c1d966c75a58977d.bin', 'https://i0.hdslb.com/bfs/openplatform/ff620fe40339f22830b97a2d127fd456df586c2e.bin', 'https://i0.hdslb.com/bfs/openplatform/af5eeff8083b4debc2338eb55242a7951324bec9.bin', 'https://i0.hdslb.com/bfs/openplatform/933563e873c564df6a4489d7f265b275d718b315.bin', 'https://i0.hdslb.com/bfs/openplatform/b63257e9ff9b2fbf5e6348cef8a3d945054d6173.bin', 'https://i0.hdslb.com/bfs/openplatform/8ff260b28971feb1b05dbedcebe68de58044ca76.bin', 'https://i0.hdslb.com/bfs/openplatform/660ec614a48639032e2c808db0c229db5c3e0da6.bin', 'https://i0.hdslb.com/bfs/openplatform/a723d40cf30d78123f07a54ef623d4807778286d.bin', 'https://i0.hdslb.com/bfs/openplatform/5a07fa5fe18a440c5637902652708a548049e1c6.bin', 'https://i0.hdslb.com/bfs/openplatform/b2463e23f24da5dd61cd3dfbbf907df31cc806a2.bin', 'https://i0.hdslb.com/bfs/openplatform/7bf0527a8baff7a37f7f8178848457837bd2205b.bin', 'https://i0.hdslb.com/bfs/openplatform/15eedeb15ba8609f9d03259a5bd763f9487dba37.bin', 'https://i0.hdslb.com/bfs/openplatform/e118b380d36e69f143079c97c4a3cfaae0ef2747.bin', 'https://i0.hdslb.com/bfs/openplatform/96759f4dce788bfef9afe265827745b0f5d7d3ff.bin', 'https://i0.hdslb.com/bfs/openplatform/3f1db19455689de69e05bfdc5936b2efe288a791.bin', 'https://i0.hdslb.com/bfs/openplatform/97b2cad6594b52c33e61ef29cae6a753aa6b6bef.bin', 'https://i0.hdslb.com/bfs/openplatform/9b65f3f745a4816e0fc7ae8816285640af1530af.bin', 'https://i0.hdslb.com/bfs/openplatform/051ff86c77ad12c173eed4446dd79856b2fddf73.bin', 'https://i0.hdslb.com/bfs/openplatform/b828dfb7ecc8b6088c2b69516c2472e6dc7af6ef.bin', 'https://i0.hdslb.com/bfs/openplatform/5873ada8f0df34426fb3c78d3b9b4efba2af8d7a.bin', 'https://i0.hdslb.com/bfs/openplatform/a3214172803c05187219621279d648efa0916f29.bin', 'https://i0.hdslb.com/bfs/openplatform/0b74882acfbe01236cc3a4de655f1eb5c5cfa683.bin', 'https://i0.hdslb.com/bfs/openplatform/e22c57439d0bc504ecd2867e49a634cbce4f4dc7.bin', 'https://i0.hdslb.com/bfs/openplatform/23a700a7ca870673163df2c289c243036c42d579.bin', 'https://i0.hdslb.com/bfs/openplatform/8a4af849ed95b81ac7684e415a7666f151e7ea03.bin', 'https://i0.hdslb.com/bfs/openplatform/379c3ff5fbb0f2acbe1593696a84e2e148a08d26.bin', 'https://i0.hdslb.com/bfs/openplatform/1f164bf358e7069daa182d7eca154065247ac41f.bin', 'https://i0.hdslb.com/bfs/openplatform/49b85c54716c6c6de89074cdc7a172b5c9bb1df9.bin', 'https://i0.hdslb.com/bfs/openplatform/92fa5fce43353b7f6e73cfa5ebd7da04bebf7510.bin', 'https://i0.hdslb.com/bfs/openplatform/308e3fc24f455e4801297c11ad7bd9ac0ccc2792.bin', 'https://i0.hdslb.com/bfs/openplatform/22b419004b87e5ec90bafdda030d07ccbb1bb2b6.bin', 'https://i0.hdslb.com/bfs/openplatform/a7a1308fec0af577b57d76f8d8b8f260955e835b.bin', 'https://i0.hdslb.com/bfs/openplatform/f61e0ace4962af9e30a566602c21fc08a72e6843.bin', 'https://i0.hdslb.com/bfs/openplatform/51167fd5a23a408a0d3d36dab9f594d2508dc3d2.bin', 'https://i0.hdslb.com/bfs/openplatform/5816a9ff2706bbefd82cec4aba20af27b47304a7.bin', 'https://i0.hdslb.com/bfs/openplatform/c2b200bbea2f5a19d8ba30564e91b4b8c22d4154.bin', 'https://i0.hdslb.com/bfs/openplatform/a6e7df6c9a6b78a462ab2110c982bcbee354c932.bin', 'https://i0.hdslb.com/bfs/openplatform/f3f030f013ccc2d7cea13e3c1a3d140ab11d996e.bin', 'https://i0.hdslb.com/bfs/openplatform/e2115d1e071e9a1af680cca305f7e8ce0b9b987d.bin', 'https://i0.hdslb.com/bfs/openplatform/14135e0f7b11babac68a953a89d78da558814819.bin', 'https://i0.hdslb.com/bfs/openplatform/d1478a9131343153053ee35bfc16462ced7d0633.bin', 'https://i0.hdslb.com/bfs/openplatform/fddda37d88830b17cf9dd63f7b8c873a60f10cc2.bin', 'https://i0.hdslb.com/bfs/openplatform/01bb15fdd3e47a8f7b0306dfa4b2e7553c6169a0.bin', 'https://i0.hdslb.com/bfs/openplatform/89a83cf38ef8d8b1b36ae16efdf1c1d4a315e89a.bin', 'https://i0.hdslb.com/bfs/openplatform/1d006d27346095f487c11729e11dcb792f621592.bin', 'https://i0.hdslb.com/bfs/openplatform/9aa1f1d1a04c6159f12bd2f97d9d9f2641372692.bin', 'https://i0.hdslb.com/bfs/openplatform/f6951c7e8ec494692c89e44310ea03d994eb447d.bin', 'https://i0.hdslb.com/bfs/openplatform/927adad60c5761a1d056bbc083a0109bae2b91dd.bin', 'https://i0.hdslb.com/bfs/openplatform/53d3b368395c31d8845456eb97c2f85e5fbe294e.bin', 'https://i0.hdslb.com/bfs/openplatform/1e2d335784c3f229643e1ff8b06b17a7ad490e35.bin', 'https://i0.hdslb.com/bfs/openplatform/8b48472160546b99f44391e0e2c51e7768d03db8.bin', 'https://i0.hdslb.com/bfs/openplatform/b99adb661a4d3641a41b8859fa322d49e052d9c6.bin', 'https://i0.hdslb.com/bfs/openplatform/fd2f1fbf6766ce091f42ea474efbf9f8724e3af1.bin', 'https://i0.hdslb.com/bfs/openplatform/5df405e27371210a6c1e0a8484a1f66c56dc906c.bin', 'https://i0.hdslb.com/bfs/openplatform/48bcfec480f98ffdc42c3bfa74eaeebb1f6e6a5a.bin', 'https://i0.hdslb.com/bfs/openplatform/6f817a8444e4cb04d86ff1f09cc53527464c7f01.bin', 'https://i0.hdslb.com/bfs/openplatform/b3c2d644d589101c0d64b577c5b4a1643331f275.bin', 'https://i0.hdslb.com/bfs/openplatform/3d40daa9ad29c8e66620ed6178e9ad1bbf35e186.bin', 'https://i0.hdslb.com/bfs/openplatform/d717db52c5dbea21119024a40ca37ee3098283a0.bin', 'https://i0.hdslb.com/bfs/openplatform/c44bca4a95dbdb4d853c06588f99a911ce6b4785.bin', 'https://i0.hdslb.com/bfs/openplatform/897481b90328a2de1e6b24f337b72721357bae0d.bin', 'https://i0.hdslb.com/bfs/openplatform/7f3fe7d5479a4dd7e2f4b1952a3a3037cd352755.bin', 'https://i0.hdslb.com/bfs/openplatform/2cb21d9d1afbe7f2b2f125f43146a3447bd4370d.bin', 'https://i0.hdslb.com/bfs/openplatform/3591a2e86f6a2011d70d76d53ebad119edd6408c.bin', 'https://i0.hdslb.com/bfs/openplatform/6b5767fd99b5a994e3fbfb69472d20a56717bfae.bin', 'https://i0.hdslb.com/bfs/openplatform/66d4b1fd5f73046ae4c453c7cae854f954558629.bin', 'https://i0.hdslb.com/bfs/openplatform/71ce2f4bffea418ade9509c74736977d91db8365.bin', 'https://i0.hdslb.com/bfs/openplatform/0995942fb9dbc684ba1112ab4a041e35daefaae9.bin', 'https://i0.hdslb.com/bfs/openplatform/bd9fbc3585e8abdd740f0c427c77010e1bfafc4a.bin', 'https://i0.hdslb.com/bfs/openplatform/8e16a1590067e346d6f1aab011b1410a2205f345.bin', 'https://i0.hdslb.com/bfs/openplatform/685468e62c091183e7e64090f6a139401220e3ce.bin', 'https://i0.hdslb.com/bfs/openplatform/8ae52c3109438a90f3d62ece83d6b84e608169ed.bin', 'https://i0.hdslb.com/bfs/openplatform/cfdddfecac3352e39c5dbc00f7b5ea5d3e8d92ff.bin', 'https://i0.hdslb.com/bfs/openplatform/b24f4ab0241524c716591e08e1485696e62ca873.bin', 'https://i0.hdslb.com/bfs/openplatform/2527acf5661126c5f0cb36335e95039542bd8b2a.bin', 'https://i0.hdslb.com/bfs/openplatform/ced87dbb25d557366ae4917237d212350367ef95.bin', 'https://i0.hdslb.com/bfs/openplatform/272ca72679787ff914c17f155c906c338b6051b4.bin', 'https://i0.hdslb.com/bfs/openplatform/a1210a89003fb30f03e883d11d32ae302d7cb4ff.bin', 'https://i0.hdslb.com/bfs/openplatform/0c9f3ade02f077e96361bbd8080620463d590388.bin', 'https://i0.hdslb.com/bfs/openplatform/78ee8747e354e9e1c5c8ca7b6f98c5e8493d62aa.bin', 'https://i0.hdslb.com/bfs/openplatform/8cba6d0db1ded8478d4b44dd84e8e9d66280d9d7.bin', 'https://i0.hdslb.com/bfs/openplatform/0dbe850aa7c4f74b5549c18faca79535e76c162b.bin', 'https://i0.hdslb.com/bfs/openplatform/610aaeadba23eebc8da271e2ca48f067b89092a8.bin', 'https://i0.hdslb.com/bfs/openplatform/2025b9db120921a29c2a4c75c02eff09aedb496c.bin', 'https://i0.hdslb.com/bfs/openplatform/29c072742b9b5d46c56238ad6acd2378943d5b46.bin', 'https://i0.hdslb.com/bfs/openplatform/d436b89c6f3241d949c5490eb329b6c182f81457.bin', 'https://i0.hdslb.com/bfs/openplatform/e507b3542bdeb8200fa829d3b5f15e25b67b05c8.bin', 'https://i0.hdslb.com/bfs/openplatform/cb72dfe839ad54b6755cc7f66631b6c7fbf510f1.bin', 'https://i0.hdslb.com/bfs/openplatform/87499386e596b090caaf8c4a789f5612a9bfce7b.bin', 'https://i0.hdslb.com/bfs/openplatform/562c99d555a185935c75b80b169917b3b0f45465.bin', 'https://i0.hdslb.com/bfs/openplatform/5c32b62dcd62594f401c85cd974896e5603298f3.bin', 'https://i0.hdslb.com/bfs/openplatform/cc2f6c886db2e7765b5a5e938b7c4eb369c56d2f.bin', 'https://i0.hdslb.com/bfs/openplatform/9ac869efc9162be88c56efebcec8dbfe58ff9bfd.bin', 'https://i0.hdslb.com/bfs/openplatform/0631dc90be986d98c70a7e6e9fcaf5fb31a9c679.bin', 'https://i0.hdslb.com/bfs/openplatform/c9a7db95b7ae1f814cfec18b625edc440da2fc09.bin', 'https://i0.hdslb.com/bfs/openplatform/7a4751cd69ca739d14884005198a3dbef8074e4d.bin', 'https://i0.hdslb.com/bfs/openplatform/05eb7411464206b45238c4bbba701721f0d6c925.bin', 'https://i0.hdslb.com/bfs/openplatform/f9721ff6c2f6ca448bcfebed1d4efc82a917028f.bin', 'https://i0.hdslb.com/bfs/openplatform/10330fa80228b73ae5032a09603d0120ead61476.bin', 'https://i0.hdslb.com/bfs/openplatform/919bb7743b9bdbc394302e1713b35d610dc8c101.bin', 'https://i0.hdslb.com/bfs/openplatform/afd8f1287354da0c9f793624d10fc7b8b84a371f.bin', 'https://i0.hdslb.com/bfs/openplatform/01e3e102708d073dffc1b54f588209e9a57e9615.bin', 'https://i0.hdslb.com/bfs/openplatform/d016de13e904cb60ae5fa8864a2222ee724a429d.bin', 'https://i0.hdslb.com/bfs/openplatform/33184a23d317a6fb4cad91a8b56dcdb81ec1dd3b.bin', 'https://i0.hdslb.com/bfs/openplatform/dbf167bee9c3bcb942720bdd4295b139f5dfe019.bin', 'https://i0.hdslb.com/bfs/openplatform/6e3befdab2b008a48a0ea14728d7814fdcd1bad5.bin', 'https://i0.hdslb.com/bfs/openplatform/01d144f0796fe846cdacdcded03efcf29be52250.bin', 'https://i0.hdslb.com/bfs/openplatform/d6b0bbb6b3629c594b6a5872b6863bc09758e27b.bin', 'https://i0.hdslb.com/bfs/openplatform/e55c1c8e250c1c79cd5dcf38e0c92dc2761ec945.bin', 'https://i0.hdslb.com/bfs/openplatform/42054b657870c4c31ed2d4606e62191921cb585d.bin', 'https://i0.hdslb.com/bfs/openplatform/01813ec5673ae8a68c0bdbf480c53551c9ebfe6e.bin', 'https://i0.hdslb.com/bfs/openplatform/54aa141fc9c7b7c6f290cae88dd621f596c732a9.bin', 'https://i0.hdslb.com/bfs/openplatform/899d81fee8958d6a56b7d5888c7000476fb1afdd.bin', 'https://i0.hdslb.com/bfs/openplatform/258ea37151e136cc173b5760b44608d2342e13fd.bin', 'https://i0.hdslb.com/bfs/openplatform/70ab2cafeb08f5c7e8c8a9c0e5e07d0e97e1b30f.bin', 'https://i0.hdslb.com/bfs/openplatform/de898388013e16163746d5e40c3e8d54a02f50a3.bin', 'https://i0.hdslb.com/bfs/openplatform/b929fe18b7d94abdd1d292e3ccc16289644dda33.bin', 'https://i0.hdslb.com/bfs/openplatform/f1761dff232bb12dbb323b744624ec321a7d3b10.bin', 'https://i0.hdslb.com/bfs/openplatform/f4b4e591cf224cf7e79be1ae9bdd7a691d763a72.bin'];
const maskKey = 0xAA;

async function downloadAndMerge() {
  if (!window.showSaveFilePicker) {
    alert("当前浏览器不支持 File System Access API，请使用 Chrome 或 Edge 的最新版本。");
    return;
  }

  const fileHandle = await window.showSaveFilePicker({
    suggestedName: '113-帝国之梦\帝国千战记本+千夜之梦_Windows.7z',
    types: [{
      description: '113-帝国之梦\帝国千战记本+千夜之梦_Windows.7z 文件',
      accept: {'*/*': ['.7z']}
    }]
  });
  const writable = await fileHandle.createWritable();

  const progressElem = document.getElementById('progress');
  const statusElem = document.getElementById('status');

  let totalBytes = 0;
  let downloadedBytes = 0;

  for (const url of urls) {
    const headResp = await fetch(url, { method: 'HEAD' });
    if (!headResp.ok) {
      statusElem.textContent = `无法获取分片大小: ${url}`;
      return;
    }
    totalBytes += parseInt(headResp.headers.get('Content-Length') || '0');
  }
  progressElem.max = totalBytes;

  try {
    for (let i = 0; i < urls.length; i++) {
      const url = urls[i];
      const resp = await fetch(url);
      if (!resp.ok) throw new Error(`下载失败: ${url}`);

      const reader = resp.body.getReader();
      let done = false;

      while (!done) {
        const {value, done: doneReading} = await reader.read();
        if (value) {
          let chunk = value;
          if (i === 0) {
            chunk = new Uint8Array(chunk);
            for (let j = 0; j < chunk.length; j++) {
              chunk[j] ^= maskKey;
            }
          }
          await writable.write(chunk);
          downloadedBytes += chunk.length;
          progressElem.value = downloadedBytes;
          statusElem.textContent = `已下载 ${downloadedBytes} / ${totalBytes} 字节 (${((downloadedBytes/totalBytes)*100).toFixed(2)}%)`;
        }
        done = doneReading;
      }
    }
    await writable.close();
    statusElem.textContent = "下载并合并完成！文件已保存。";
  } catch (e) {
    statusElem.textContent = "错误：" + e.message;
    await writable.close();
  }
}

document.getElementById('startBtn').addEventListener('click', downloadAndMerge);
</script>
</body>
</html>
